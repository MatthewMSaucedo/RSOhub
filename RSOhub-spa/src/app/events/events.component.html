<div class="container">
    <div *ngIf="!isLoading">
        <div *ngFor="let event of events; let i = index" style="margin-bottom: 2.5rem;">
            <div class="event-header">
                <h1>{{event.name}}</h1>
            </div>
            <div class="event-body">
                <h4>{{event.description}}</h4>
                <h4>Start-time: {{event.time}}</h4>
                <h4>Location: {{locations[i]}}</h4>
            </div>
            <div class="comment-event-header">
                <h3>Comments</h3>
            </div>
            <div *ngFor="let comment of comments[i]" class="event-body">
                <h4>{{comment.text}}</h4>
                <h4>Rating: {{comment.rating}}</h4>
                <h4>Posted: {{comment.time}}</h4>
            </div>
            <div *ngIf="isAddingComment" class="comment-form">
                <form #commentForm="ngForm" (ngSubmit)="onSubmit(commentForm)">
                    <div class="form-group">
                        <input type="text"
                            id="commentText"
                            class="form-control"
                            name="commentText"
                            ngModel
                            required
                            placeholder="comment"
                        />
                    </div>
                    <div class="form-group shorter-input-box">
                        <input type="number"
                            id="rating"
                            class="form-control"
                            name="rating"
                            type="rating"
                            ngModel
                            minlength="6"
                            required
                            placeholder="rating"
                        />
                    </div>
                    <div>
                        <button
                            class="btn btn-primary btn-block"
                            type="submit">
                            submit
                        </button>
                    </div>
                </form>
            </div>
            <button (click)="addComment(event.id)" class="btn btn-primary">Add Comment</button>
            <!--TODO: Add comment. addComment(event.id)-->
        </div>
    </div>
</div>
